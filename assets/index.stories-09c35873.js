var O=Object.defineProperty;var H=(a,s,t)=>s in a?O(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;var n=(a,s,t)=>(H(a,typeof s!="symbol"?s+"":s,t),t);import{E as I,s as U,u as X,c as B,o as J}from"./setup-f1b0c42e.js";const K=.5*(Math.sqrt(3)-1),p=(3-Math.sqrt(3))/6,M=a=>Math.floor(a)|0,G=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);function q(a=Math.random){const s=Q(a),t=new Float64Array(s).map(i=>G[i%12*2]),e=new Float64Array(s).map(i=>G[i%12*2+1]);return function(r,S){let z=0,E=0,N=0;const P=(r+S)*K,g=M(r+P),w=M(S+P),A=(g+w)*p,D=g-A,L=w-A,c=r-D,l=S-L;let b,f;c>l?(b=1,f=0):(b=0,f=1);const v=c-b+p,R=l-f+p,C=c-1+2*p,F=l-1+2*p,k=g&255,j=w&255;let h=.5-c*c-l*l;if(h>=0){const o=k+s[j],d=t[o],u=e[o];h*=h,z=h*h*(d*c+u*l)}let m=.5-v*v-R*R;if(m>=0){const o=k+b+s[j+f],d=t[o],u=e[o];m*=m,E=m*m*(d*v+u*R)}let y=.5-C*C-F*F;if(y>=0){const o=k+1+s[j+1],d=t[o],u=e[o];y*=y,N=y*y*(d*C+u*F)}return 70*(z+E+N)}}function Q(a){const t=new Uint8Array(512);for(let e=0;e<512/2;e++)t[e]=e;for(let e=0;e<512/2-1;e++){const i=e+~~(a()*(256-e)),r=t[e];t[e]=t[i],t[i]=r}for(let e=256;e<512;e++)t[e]=t[e-256];return t}class V{constructor(s){n(this,"enabled",!1);n(this,"decay",!1);n(this,"decayRate",.65);n(this,"intensity",.5);n(this,"maxPitch",.05);n(this,"maxRoll",.05);n(this,"maxYaw",.05);n(this,"pitchFrequency",5e-4);n(this,"rollFrequency",5e-4);n(this,"yawFrequency",5e-4);n(this,"time",0);n(this,"initialRotation",new I);n(this,"object");n(this,"yawNoise",q());n(this,"pitchNoise",q());n(this,"rollNoise",q());n(this,"saveRotation",()=>{this.initialRotation.copy(this.object.rotation)});n(this,"update",s=>{this.time+=s;const t=this.intensity**2,e=this.maxYaw*t*this.yawNoise(this.time*this.yawFrequency,1),i=this.maxPitch*t*this.pitchNoise(this.time*this.pitchFrequency,1),r=this.maxRoll*t*this.rollNoise(this.time*this.rollFrequency,1);this.object.rotation.set(this.initialRotation.x+i,this.initialRotation.y+e,this.initialRotation.z+r),this.decay&&this.intensity>0&&(this.intensity-=this.decayRate*s,this.intensity<0?this.intensity=0:this.intensity>1&&(this.intensity=1))});this.object=s}enable(){this.saveRotation(),this.enabled=!0}disable(){this.enabled=!1}}class W extends V{constructor(){super(...arguments);n(this,"activeControls")}enable(t){var e;super.enable(),this.activeControls=t,(e=this.activeControls)==null||e.addEventListener("change",this.saveRotation)}disable(){var t;super.disable(),(t=this.activeControls)==null||t.removeEventListener("change",this.saveRotation),this.activeControls=void 0}}const Z=`import { CameraShake } from 'trzy'

const camera = new THREE.PerspectiveCamera()
const cameraShake = new CameraShake(camera)

// Optionally pass orbitControls if they exist
cameraShake.enable(orbitControls)

// In your game loop, before rendering your scene
cameraShake.update(delta)

cameraShake.disable()
`,st={title:"Camera Shake",parameters:{docs:{source:{code:Z}}}},$=()=>{U();const{camera:a,renderer:s}=X(),t=new W(a.current);return B((e,i)=>{t.update(i)}),t.enable(J),s.domElement},x={render:$};var T,Y,_;x.parameters={...x.parameters,docs:{...(T=x.parameters)==null?void 0:T.docs,source:{originalSource:`{
  render
}`,...(_=(Y=x.parameters)==null?void 0:Y.docs)==null?void 0:_.source}}};const nt=["Primary"];export{x as Primary,nt as __namedExportsOrder,st as default};
//# sourceMappingURL=index.stories-09c35873.js.map
